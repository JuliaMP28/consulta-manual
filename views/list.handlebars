<main id="main" class="main">
  <div class="pagetitle">
    <h1>Consultar Manuais</h1>
  </div>

  <section class="section">

    <div class="row">
      <div class="card">

        <div class="card-body">

          <h5 class="card-title">Filtros</h5>

          <div class="row">
            <div class="col-md-2">
              <div class="form-floating">
                <input type="text" class="form-control" value="{{filters.name}}" id="filterName" placeholder="Nome">
                <label for="filterName">Nome</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-floating">
                <input type="text" class="form-control" value="{{filters.type}}" id="filterType" placeholder="Tipo">
                <label for="filterType">Tipo</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-floating">
                <input type="text" class="form-control" value="{{filters.manufacturer}}" id="filterManufacturer" placeholder="Marca">
                <label for="filterManufacturer">Marca</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-floating">
                <input type="text" class="form-control" value="{{filters.model}}" id="filterModel" placeholder="Modelo">
                <label for="filterModel">Modelo</label>
              </div>
            </div>
            <div class="col-lg-4">
              <button type="button" class="btn btn-outline-info" style="min-height: 58px;" onclick="filterList()"><i class="bi bi-search"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-lg-6">
        <div class="card">

          <div class="card-body">

            <h5 class="card-title">Manuais</h5>


            <div class="tnz-file-tree">

              {{#each data}}
              <label class="tnz-file-tree-item year">
                <input class="tnz-file-tree-cb" type="checkbox">
                <span class="tnz-file-tree-label">{{this.type}}</span>

                <div class="tnz-file-tree-branches">

                  {{#each manufacturers}}
                  <label class="tnz-file-tree-item month">
                    <input class="tnz-file-tree-cb" type="checkbox">
                    <span class="tnz-file-tree-label">{{this.manufacturer}}</span>

                    <div class="tnz-file-tree-branches">
                      {{#each this.models}}
                      <label class="tnz-file-tree-item hour" onclick="showDetails('{{this._id}}')">
                        <input class="tnz-file-tree-cb" type="radio" name="day">
                        <span class="tnz-file-tree-label">{{this.name}}</span>
                      </label>
                      {{/each}}
                    </div>

                  </label>
                  {{/each}}
                </div>

              </label>
              {{/each}}

            </div>
          </div>
        </div>


      </div>

      <div class="col-lg-6">
        <div class="card">

          <div class="card-body">

            <h5 class="card-title">Detalhes do Manual</h5>

            <div class="row" id="noContentSelectedMessage">
              <h3>Nenhum manual selecionado</h3>
            </div>

            <div class="row" id="detailsContentDiv" style="display: none;">

              <div class="col-lg-12">

                <div class="row">
                  <div class="col-lg-3 col-md-4 label ">Nome</div>
                  <div class="col-lg-9 col-md-8" id="nameDetails"></div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Tipo</div>
                  <div class="col-lg-9 col-md-8" id="typeDetails"></div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Marca</div>
                  <div class="col-lg-9 col-md-8" id="manufacturerDetails"></div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Modelo</div>
                  <div class="col-lg-9 col-md-8" id="modelDetails"></div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Link</div>
                  <div class="col-lg-9 col-md-8"><a href="" id="linkDetails" target="_blank"></a></div>
                </div>

                <div class="row">
                  <div class="col-lg-3 col-md-4 label">Acesso Restrito</div>
                  <div class="col-lg-9 col-md-8" id="restrictedAccessDetails"></div>
                </div>

                <div class="row" style="margin-top: 30px;">
                  <div class="col-lg-9 col-md-8" id="actionGroup">
                    <button type="button" class="btn btn-outline-info btn-sm" id="openFileButton"><i class="bi bi-file-arrow-up"
                       ></i></button>
                    {{#if user.admin}}
                    <button type="button" class="btn btn-outline-warning btn-sm" id="editButton"><i class="bi bi-pencil"
                        ></i></button>
                    <button type="button" class="btn btn-outline-danger btn-sm" id="deleteButton"><i class="bi bi-trash3"
                        ></i></button>
                    {{/if}}
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
</main>